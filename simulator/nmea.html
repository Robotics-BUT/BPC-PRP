<!DOCTYPE HTML>
<html lang="en" class="sidebar-visible no-js light">
    <head>
        <!-- Book generated using mdBook -->
        <meta charset="UTF-8">
        <title>Program nmea - BPC-PRP</title>
        
        


        <!-- Custom HTML head -->
        


        <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="theme-color" content="#ffffff" />

        <link rel="icon" href="../favicon.svg">
        <link rel="shortcut icon" href="../favicon.png">
        <link rel="stylesheet" href="../css/variables.css">
        <link rel="stylesheet" href="../css/general.css">
        <link rel="stylesheet" href="../css/chrome.css">
        <link rel="stylesheet" href="../css/print.css" media="print">

        <!-- Fonts -->
        <link rel="stylesheet" href="../FontAwesome/css/font-awesome.css">
        
        <link rel="stylesheet" href="../fonts/fonts.css">
        

        <!-- Highlight.js Stylesheets -->
        <link rel="stylesheet" href="../highlight.css">
        <link rel="stylesheet" href="../tomorrow-night.css">
        <link rel="stylesheet" href="../ayu-highlight.css">

        <!-- Custom theme stylesheets -->
        

        
    </head>
    <body>
        <!-- Provide site root to javascript -->
        <script type="text/javascript">
            var path_to_root = "../";
            var default_theme = window.matchMedia("(prefers-color-scheme: dark)").matches ? "navy" : "light";
        </script>

        <!-- Work around some values being stored in localStorage wrapped in quotes -->
        <script type="text/javascript">
            try {
                var theme = localStorage.getItem('mdbook-theme');
                var sidebar = localStorage.getItem('mdbook-sidebar');

                if (theme.startsWith('"') && theme.endsWith('"')) {
                    localStorage.setItem('mdbook-theme', theme.slice(1, theme.length - 1));
                }

                if (sidebar.startsWith('"') && sidebar.endsWith('"')) {
                    localStorage.setItem('mdbook-sidebar', sidebar.slice(1, sidebar.length - 1));
                }
            } catch (e) { }
        </script>

        <!-- Set the theme before any content is loaded, prevents flash -->
        <script type="text/javascript">
            var theme;
            try { theme = localStorage.getItem('mdbook-theme'); } catch(e) { }
            if (theme === null || theme === undefined) { theme = default_theme; }
            var html = document.querySelector('html');
            html.classList.remove('no-js')
            html.classList.remove('light')
            html.classList.add(theme);
            html.classList.add('js');
        </script>

        <!-- Hide / unhide sidebar before it is displayed -->
        <script type="text/javascript">
            var html = document.querySelector('html');
            var sidebar = 'hidden';
            if (document.body.clientWidth >= 1080) {
                try { sidebar = localStorage.getItem('mdbook-sidebar'); } catch(e) { }
                sidebar = sidebar || 'visible';
            }
            html.classList.remove('sidebar-visible');
            html.classList.add("sidebar-" + sidebar);
        </script>

        <nav id="sidebar" class="sidebar" aria-label="Table of contents">
            <div class="sidebar-scrollbox">
                <ol class="chapter"><li class="chapter-item expanded affix "><a href="../title-page.html">Uvod</a></li><li class="chapter-item expanded affix "><a href="../prednasky.html">Přednášky</a></li><li class="chapter-item expanded affix "><a href="../cviceni.html">Cvičení</a></li><li class="chapter-item expanded "><a href="../chap_1_software/text/intro.html"><strong aria-hidden="true">1.</strong> Softwarové vybavení</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../chap_1_software/text/linux.html"><strong aria-hidden="true">1.1.</strong> Linux a příkazová řádka</a></li><li class="chapter-item expanded "><a href="../chap_1_software/text/git.html"><strong aria-hidden="true">1.2.</strong> Git - Verzovací systému</a></li><li class="chapter-item expanded "><a href="../chap_1_software/text/clion.html"><strong aria-hidden="true">1.3.</strong> CLion IDE</a></li><li class="chapter-item expanded "><a href="../chap_1_software/text/ros.html"><strong aria-hidden="true">1.4.</strong> Robotic Operating System</a></li><li class="chapter-item expanded "><a href="../chap_1_software/text/vb.linux_installation.html"><strong aria-hidden="true">1.5.</strong> Příprava prostředí</a></li></ol></li><li class="chapter-item expanded "><a href="../simulator/intro.html"><strong aria-hidden="true">2.</strong> Simulátor</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../simulator/rozhrani.html"><strong aria-hidden="true">2.1.</strong> Rozhraní</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../simulator/zpravy/BEEP.html"><strong aria-hidden="true">2.1.1.</strong> Zpráva BEEP</a></li><li class="chapter-item expanded "><a href="../simulator/zpravy/BTN.html"><strong aria-hidden="true">2.1.2.</strong> Zpráva BTN</a></li><li class="chapter-item expanded "><a href="../simulator/zpravy/GPIO.DIR.html"><strong aria-hidden="true">2.1.3.</strong> Zpráva GPIO.DIR</a></li><li class="chapter-item expanded "><a href="../simulator/zpravy/GPIO.GET.html"><strong aria-hidden="true">2.1.4.</strong> Zpráva GPIO.GET</a></li><li class="chapter-item expanded "><a href="../simulator/zpravy/GPIO.SET.html"><strong aria-hidden="true">2.1.5.</strong> Zpráva GPIO.SET</a></li><li class="chapter-item expanded "><a href="../simulator/zpravy/HELP.html"><strong aria-hidden="true">2.1.6.</strong> Zpráva HELP</a></li><li class="chapter-item expanded "><a href="../simulator/zpravy/KILL.html"><strong aria-hidden="true">2.1.7.</strong> Zpráva KILL</a></li><li class="chapter-item expanded "><a href="../simulator/zpravy/LED.html"><strong aria-hidden="true">2.1.8.</strong> Zpráva LED</a></li><li class="chapter-item expanded "><a href="../simulator/zpravy/ODO.html"><strong aria-hidden="true">2.1.9.</strong> Zpráva ODO</a></li><li class="chapter-item expanded "><a href="../simulator/zpravy/PING.html"><strong aria-hidden="true">2.1.10.</strong> Zpráva PING</a></li><li class="chapter-item expanded "><a href="../simulator/zpravy/PWM.html"><strong aria-hidden="true">2.1.11.</strong> Zpráva PWM</a></li><li class="chapter-item expanded "><a href="../simulator/zpravy/RESET.html"><strong aria-hidden="true">2.1.12.</strong> Zpráva RESET</a></li><li class="chapter-item expanded "><a href="../simulator/zpravy/SENSOR.html"><strong aria-hidden="true">2.1.13.</strong> Zpráva SENSOR</a></li><li class="chapter-item expanded "><a href="../simulator/zpravy/SERVO.html"><strong aria-hidden="true">2.1.14.</strong> Zpráva SERVO</a></li><li class="chapter-item expanded "><a href="../simulator/zpravy/SPEED.html"><strong aria-hidden="true">2.1.15.</strong> Zpráva SPEED</a></li></ol></li><li class="chapter-item expanded "><a href="../simulator/nmea.html" class="active"><strong aria-hidden="true">2.2.</strong> Program nmea</a></li><li class="chapter-item expanded "><a href="../simulator/robot.html"><strong aria-hidden="true">2.3.</strong> Program robot</a></li></ol></li><li class="chapter-item expanded "><a href="../cviceni/cviceni_uvod.html"><strong aria-hidden="true">3.</strong> Cviceni</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../cviceni/cviceni_01_linux_install.html"><strong aria-hidden="true">3.1.</strong> Instalace a seznámení se s prostředím</a></li><li class="chapter-item expanded "><a href="../cviceni/cviceni_02_linux_cli_cpp.html"><strong aria-hidden="true">3.2.</strong> Linux CLI a C++</a></li><li class="chapter-item expanded "><a href="../cviceni/cviceni_03_git.html"><strong aria-hidden="true">3.3.</strong> GIT, simulátor</a></li><li class="chapter-item expanded "><a href="../cviceni/cviceni_04_udp.html"><strong aria-hidden="true">3.4.</strong> UDP komunikace</a></li><li class="chapter-item expanded "><a href="../cviceni/cviceni_05_i2c.html"><strong aria-hidden="true">3.5.</strong> Hardware, I2C, ADC</a></li><li class="chapter-item expanded "><a href="../cviceni/cviceni_06_motory.html"><strong aria-hidden="true">3.6.</strong> Řízení motorů</a></li><li class="chapter-item expanded "><a href="../cviceni/cviceni_07_snimac_cary.html"><strong aria-hidden="true">3.7.</strong> Snímání čáry</a></li><li class="chapter-item expanded "><a href="../cviceni/cviceni_08_regulator.html"><strong aria-hidden="true">3.8.</strong> Návrh regulátoru</a></li><li class="chapter-item expanded "><a href="../cviceni/cviceni_10_telemetrie_vizualizace.html"><strong aria-hidden="true">3.9.</strong> Telemetrie a vizualizace</a></li></ol></li></ol>
            </div>
            <div id="sidebar-resize-handle" class="sidebar-resize-handle"></div>
        </nav>

        <div id="page-wrapper" class="page-wrapper">

            <div class="page">
                
                <div id="menu-bar-hover-placeholder"></div>
                <div id="menu-bar" class="menu-bar sticky bordered">
                    <div class="left-buttons">
                        <button id="sidebar-toggle" class="icon-button" type="button" title="Toggle Table of Contents" aria-label="Toggle Table of Contents" aria-controls="sidebar">
                            <i class="fa fa-bars"></i>
                        </button>
                        <button id="theme-toggle" class="icon-button" type="button" title="Change theme" aria-label="Change theme" aria-haspopup="true" aria-expanded="false" aria-controls="theme-list">
                            <i class="fa fa-paint-brush"></i>
                        </button>
                        <ul id="theme-list" class="theme-popup" aria-label="Themes" role="menu">
                            <li role="none"><button role="menuitem" class="theme" id="light">Light (default)</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="rust">Rust</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="coal">Coal</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="navy">Navy</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="ayu">Ayu</button></li>
                        </ul>
                        
                        <button id="search-toggle" class="icon-button" type="button" title="Search. (Shortkey: s)" aria-label="Toggle Searchbar" aria-expanded="false" aria-keyshortcuts="S" aria-controls="searchbar">
                            <i class="fa fa-search"></i>
                        </button>
                        
                    </div>

                    <h1 class="menu-title">BPC-PRP</h1>

                    <div class="right-buttons">
                        <a href="../print.html" title="Print this book" aria-label="Print this book">
                            <i id="print-button" class="fa fa-print"></i>
                        </a>
                        
                    </div>
                </div>

                
                <div id="search-wrapper" class="hidden">
                    <form id="searchbar-outer" class="searchbar-outer">
                        <input type="search" name="search" id="searchbar" name="searchbar" placeholder="Search this book ..." aria-controls="searchresults-outer" aria-describedby="searchresults-header">
                    </form>
                    <div id="searchresults-outer" class="searchresults-outer hidden">
                        <div id="searchresults-header" class="searchresults-header"></div>
                        <ul id="searchresults">
                        </ul>
                    </div>
                </div>
                

                <!-- Apply ARIA attributes after the sidebar and the sidebar toggle button are added to the DOM -->
                <script type="text/javascript">
                    document.getElementById('sidebar-toggle').setAttribute('aria-expanded', sidebar === 'visible');
                    document.getElementById('sidebar').setAttribute('aria-hidden', sidebar !== 'visible');
                    Array.from(document.querySelectorAll('#sidebar a')).forEach(function(link) {
                        link.setAttribute('tabIndex', sidebar === 'visible' ? 0 : -1);
                    });
                </script>

                <div id="content" class="content">
                    <main>
                        <h1><a class="header" href="#nmea---utilita" id="nmea---utilita">nmea - utilita</a></h1>
<p>slouží pro ověření funkčnosti zpráv (na vyzkoušení že vše funguje jak má. Po spuštění v interaktivním režimu je emulována konzole, uživatel může ručně zadat<br />
NMEA příkaz (bez počátečního $ a části s CRC s hvězdičkou. Program spočítá správné CRC a odešle jej na daný UDP port. (vypíše celou zprávu včetně správného CRC)</p>
<p>Příkaz slouží zejména pro ověření že správně počítáte CRC a že vám běží server (oddělení chyb špatně spuštěného simulátoru od vaší chyby v programu).</p>
<p>Příkaz je doporučeno ručně nainstalovat (zkopírovat) do <code>/usr/bin</code> dle platformy. Na platformě raspberry pi si soubor <code>nmea_armhf</code> před zkopírováním do <code>/usr/bin</code> přejmenujte na <code>nmea</code>. identicky pro <code>x86</code> a <code>arm64</code> na osobním počítači</p>
<h2><a class="header" href="#spouštěcí-argumenty" id="spouštěcí-argumenty">Spouštěcí argumenty</a></h2>
<pre><code class="language-shell">nmea [--help] [--version] [--local=&lt;udp port&gt;] [--remote=]&lt;ip addr&gt;/&lt;udp port&gt;
</code></pre>
<p>Jednotlivé argumenty příkazové řádky:</p>
<p><code>--help</code> : Vypiš stručnou nápovědu a ukonči se</p>
<p><code>--version</code> : Vypiš aktuální verzi nástroje a ukonči se.</p>
<p><code>--local=&lt;udp port&gt;</code> : nastaví lokální číslo UDP portu na kterém má naslouchat (default: 6667). <code>&lt;udp port&gt;</code> musí být celé číslo v rozsahu 1024 - 65535. UDP port nesmí být na lokálním počítači obsazený. Pro použití portu pod <code>1024</code> je potřeba program spustit jako <code>sudo</code>.</p>
<p><code>--remote=&lt;ip addr&gt;/&lt;udp port&gt;</code> nebo <code>&lt;ip addr&gt;/&lt;udp port&gt;</code> : <strong>povinný parametr</strong>. Nastaví adresu a port vzdáleného počítače. IP adresa musí být specifikovaná číselně v tečkové konvenci (např 127.0.0.1), DNS překlad není podporován. Port musí být celé číslo v rozsahu 1024-65535. Oddělovač adresy a portu je lomítko z důvodu budoucí kompatibility s IPv6 (adresa ipv6 má dvojtečku jako oddělovač částí takže nejde použít pro oddělení části portu od adresy). Adresy IPv6 prozatím nejsou podporovány, ale je na ně příprava. Pro použití portu pod <code>1024</code> je potřeba program spustit jako <code>sudo</code></p>
<h2><a class="header" href="#příklad-použití-pro-spojení-s-reálným-robotem" id="příklad-použití-pro-spojení-s-reálným-robotem">Příklad použití pro spojení s reálným robotem</a></h2>
<p>V následujícím příkladu se komunikuje s reálným robotem na adrese 10.16.0.247 na portu 6666. uživatel zadal na klávesnici <code>BEEP</code> a stiskl enter, <code>PING</code> a stiskl enter. Je vidět odeslaná zpráva i přijatá zpráva od serveru.</p>
<pre><code class="language-shell">bufran@pcburian:~$ nmea 10.16.0.247/6666
NMEA sender v 0.2 (c) 2022 Frantisek Burian
 communicating with remote 10.16.0.247/6666
 using local port 6667
 Press Ctrl-C to exit
&gt; BEEP                                                   
[ 10.16.0.247/6666 TX] $BEEP*12
&gt; PING                                                   
[ 10.16.0.247/6666 TX] $PING*10
[ 10.16.0.247/6666 RX] $PONG*16                          
&gt;                                                        
</code></pre>
<h2><a class="header" href="#příklad-použití-pro-testování-protokolu-nmea" id="příklad-použití-pro-testování-protokolu-nmea">Příklad použití pro testování protokolu NMEA</a></h2>
<p>Protože program zprávy nijak neinterpretuje je vhodným adeptem pro ladění protokolu.</p>
<p>Nejprve spustíme terminál s programem NMEA, a jako cíl zadáme lokální adresu a port ukazující na číslo které jsme zadali v <code>bind</code> uživatelského programu (zde např <code>1234</code>)</p>
<pre><code class="language-shell">bufran@pcburian:~$ nmea 127.0.0.1/1234
NMEA sender v 0.2 (c) 2022 Frantisek Burian
 communicating with remote 127.0.0.1/1234
 using local port 6667
 Press Ctrl-C to exit
&gt;                                                        
</code></pre>
<p>V kodu aplikace kterou ladíme zapíšeme spojení s programem NMEA a portem, který program nmea vypsal (v příkladu <code>6667</code>, tedy adresa <code>127.0.0.1/6667</code>). Nezapomeneme bind na zvolený port (v příkladu <code>1234</code>)</p>
<p>Vše co Vaše aplikace odešle se zobrazí v terminálu NMEA, pakliže je v pořádku CRC (pokud se nic nezobrazí. máte špatné CRC). Vše co odešlete z terminálu NMEA bude zabaleno do protokolu a odesláno Vaší aplikaci.</p>
<p>Pakliže se nic nezobrazuje, je vhodné se podívat co odesíláte (např výpisem do terminálu, wiresharkem)</p>

                    </main>

                    <nav class="nav-wrapper" aria-label="Page navigation">
                        <!-- Mobile navigation buttons -->
                        
                            <a rel="prev" href="../simulator/zpravy/SPEED.html" class="mobile-nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                                <i class="fa fa-angle-left"></i>
                            </a>
                        

                        
                            <a rel="next" href="../simulator/robot.html" class="mobile-nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                                <i class="fa fa-angle-right"></i>
                            </a>
                        

                        <div style="clear: both"></div>
                    </nav>
                </div>
            </div>

            <nav class="nav-wide-wrapper" aria-label="Page navigation">
                
                    <a rel="prev" href="../simulator/zpravy/SPEED.html" class="nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                        <i class="fa fa-angle-left"></i>
                    </a>
                

                
                    <a rel="next" href="../simulator/robot.html" class="nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                        <i class="fa fa-angle-right"></i>
                    </a>
                
            </nav>

        </div>

        

        

        

        
        <script type="text/javascript">
            window.playground_copyable = true;
        </script>
        

        

        
        <script src="../elasticlunr.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="../mark.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="../searcher.js" type="text/javascript" charset="utf-8"></script>
        

        <script src="../clipboard.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="../highlight.js" type="text/javascript" charset="utf-8"></script>
        <script src="../book.js" type="text/javascript" charset="utf-8"></script>

        <!-- Custom JS scripts -->
        

        

    </body>
</html>
