<!DOCTYPE HTML>
<html lang="en" class="sidebar-visible no-js light">
    <head>
        <!-- Book generated using mdBook -->
        <meta charset="UTF-8">
        <title>GIT, simulátor - BPC-PRP</title>
        
        


        <!-- Custom HTML head -->
        


        <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="theme-color" content="#ffffff" />

        <link rel="icon" href="../favicon.svg">
        <link rel="shortcut icon" href="../favicon.png">
        <link rel="stylesheet" href="../css/variables.css">
        <link rel="stylesheet" href="../css/general.css">
        <link rel="stylesheet" href="../css/chrome.css">
        <link rel="stylesheet" href="../css/print.css" media="print">

        <!-- Fonts -->
        <link rel="stylesheet" href="../FontAwesome/css/font-awesome.css">
        
        <link rel="stylesheet" href="../fonts/fonts.css">
        

        <!-- Highlight.js Stylesheets -->
        <link rel="stylesheet" href="../highlight.css">
        <link rel="stylesheet" href="../tomorrow-night.css">
        <link rel="stylesheet" href="../ayu-highlight.css">

        <!-- Custom theme stylesheets -->
        

        
    </head>
    <body>
        <!-- Provide site root to javascript -->
        <script type="text/javascript">
            var path_to_root = "../";
            var default_theme = window.matchMedia("(prefers-color-scheme: dark)").matches ? "navy" : "light";
        </script>

        <!-- Work around some values being stored in localStorage wrapped in quotes -->
        <script type="text/javascript">
            try {
                var theme = localStorage.getItem('mdbook-theme');
                var sidebar = localStorage.getItem('mdbook-sidebar');

                if (theme.startsWith('"') && theme.endsWith('"')) {
                    localStorage.setItem('mdbook-theme', theme.slice(1, theme.length - 1));
                }

                if (sidebar.startsWith('"') && sidebar.endsWith('"')) {
                    localStorage.setItem('mdbook-sidebar', sidebar.slice(1, sidebar.length - 1));
                }
            } catch (e) { }
        </script>

        <!-- Set the theme before any content is loaded, prevents flash -->
        <script type="text/javascript">
            var theme;
            try { theme = localStorage.getItem('mdbook-theme'); } catch(e) { }
            if (theme === null || theme === undefined) { theme = default_theme; }
            var html = document.querySelector('html');
            html.classList.remove('no-js')
            html.classList.remove('light')
            html.classList.add(theme);
            html.classList.add('js');
        </script>

        <!-- Hide / unhide sidebar before it is displayed -->
        <script type="text/javascript">
            var html = document.querySelector('html');
            var sidebar = 'hidden';
            if (document.body.clientWidth >= 1080) {
                try { sidebar = localStorage.getItem('mdbook-sidebar'); } catch(e) { }
                sidebar = sidebar || 'visible';
            }
            html.classList.remove('sidebar-visible');
            html.classList.add("sidebar-" + sidebar);
        </script>

        <nav id="sidebar" class="sidebar" aria-label="Table of contents">
            <div class="sidebar-scrollbox">
                <ol class="chapter"><li class="chapter-item expanded affix "><a href="../title-page.html">Uvod</a></li><li class="chapter-item expanded "><strong aria-hidden="true">1.</strong> Cviceni</li><li><ol class="section"><li class="chapter-item expanded "><a href="../cviceni/cviceni_02_linux_cli_cpp.html"><strong aria-hidden="true">1.1.</strong> Linux CLI a C++</a></li><li class="chapter-item expanded "><a href="../cviceni/cviceni_03_git.html" class="active"><strong aria-hidden="true">1.2.</strong> GIT, simulátor</a></li><li class="chapter-item expanded "><a href="../cviceni/cviceni_04_udp.html"><strong aria-hidden="true">1.3.</strong> UDP komunikace</a></li><li class="chapter-item expanded "><a href="../cviceni/cviceni_05_i2c.html"><strong aria-hidden="true">1.4.</strong> Hardware, I2C, ADC</a></li><li class="chapter-item expanded "><a href="../cviceni/cviceni_06_motory.html"><strong aria-hidden="true">1.5.</strong> Řízení motorů</a></li><li class="chapter-item expanded "><a href="../cviceni/cviceni_07_snimac_cary.html"><strong aria-hidden="true">1.6.</strong> Snímání čáry</a></li><li class="chapter-item expanded "><a href="../cviceni/cviceni_08_regulacni_smycka.html"><strong aria-hidden="true">1.7.</strong> Regulační smyčka</a></li><li class="chapter-item expanded "><a href="../cviceni/cviceni_09_regulatory.html"><strong aria-hidden="true">1.8.</strong> Návrh regulátorů</a></li><li class="chapter-item expanded "><a href="../cviceni/cviceni_10_telemetrie_vizualizace.html"><strong aria-hidden="true">1.9.</strong> Telemetrie a vizualizace</a></li></ol></li><li class="chapter-item expanded "><a href="../linux.html"><strong aria-hidden="true">2.</strong> OS Linux</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../linux/distro.html"><strong aria-hidden="true">2.1.</strong> Distribuce</a></li><li class="chapter-item expanded "><a href="../linux/install.html"><strong aria-hidden="true">2.2.</strong> Instalace</a></li><li class="chapter-item expanded "><a href="../linux/filesystem.html"><strong aria-hidden="true">2.3.</strong> Souborový systém</a></li><li class="chapter-item expanded "><a href="../linux/shell.html"><strong aria-hidden="true">2.4.</strong> shell</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../linux/shell/run.html"><strong aria-hidden="true">2.4.1.</strong> Otevření shellu</a></li><li class="chapter-item expanded "><a href="../linux/shell/touch.html"><strong aria-hidden="true">2.4.2.</strong> Vytvoření souboru</a></li><li class="chapter-item expanded "><a href="../linux/shell/cp.html"><strong aria-hidden="true">2.4.3.</strong> Kopírování souboru</a></li><li class="chapter-item expanded "><a href="../linux/shell/mv.html"><strong aria-hidden="true">2.4.4.</strong> Přesun souboru</a></li><li class="chapter-item expanded "><a href="../linux/shell/rm.html"><strong aria-hidden="true">2.4.5.</strong> Smazání souboru</a></li><li class="chapter-item expanded "><a href="../linux/shell/chmod.html"><strong aria-hidden="true">2.4.6.</strong> Změna prív souboru</a></li><li class="chapter-item expanded "><a href="../linux/shell/cat.html"><strong aria-hidden="true">2.4.7.</strong> Zjištění obsahu souboru</a></li><li class="chapter-item expanded "><a href="../linux/shell/mkdir.html"><strong aria-hidden="true">2.4.8.</strong> Vytvoření složky</a></li><li class="chapter-item expanded "><a href="../linux/shell/rmdir.html"><strong aria-hidden="true">2.4.9.</strong> Smazání složky</a></li><li class="chapter-item expanded "><a href="../linux/shell/pwd.html"><strong aria-hidden="true">2.4.10.</strong> Zjištění aktuální složky</a></li><li class="chapter-item expanded "><a href="../linux/shell/cd.html"><strong aria-hidden="true">2.4.11.</strong> Změna aktuální složky</a></li><li class="chapter-item expanded "><a href="../linux/shell/ls.html"><strong aria-hidden="true">2.4.12.</strong> Výpis souborů ve složce</a></li><li class="chapter-item expanded "><a href="../linux/shell/nano.html"><strong aria-hidden="true">2.4.13.</strong> Editace souboru pomocí GNU nano</a></li><li class="chapter-item expanded "><a href="../linux/shell/vim.html"><strong aria-hidden="true">2.4.14.</strong> Editace souboru pomocí GNU vim</a></li><li class="chapter-item expanded "><a href="../linux/shell/man.html"><strong aria-hidden="true">2.4.15.</strong> Manuálové stránky</a></li><li class="chapter-item expanded "><a href="../linux/shell/sudo.html"><strong aria-hidden="true">2.4.16.</strong> Zvýšení oprávnění</a></li><li class="chapter-item expanded "><a href="../linux/shell/apt.html"><strong aria-hidden="true">2.4.17.</strong> Instalace balíčků</a></li><li class="chapter-item expanded "><a href="../linux/shell/wget.html"><strong aria-hidden="true">2.4.18.</strong> Stahování souborů ze sítě pomocí GNU wget</a></li><li class="chapter-item expanded "><a href="../linux/shell/curl.html"><strong aria-hidden="true">2.4.19.</strong> Stahování souborů ze sítě pomocí GNU curl</a></li><li class="chapter-item expanded "><a href="../linux/shell/mc.html"><strong aria-hidden="true">2.4.20.</strong> Souborový manažer</a></li></ol></li><li class="chapter-item expanded "><a href="../linux/footer.html"><strong aria-hidden="true">2.5.</strong> Slovo závěrem</a></li></ol></li><li class="chapter-item expanded "><a href="../chap_1_software/text/git.html"><strong aria-hidden="true">3.</strong> Git - Verzovací systém</a></li><li class="chapter-item expanded "><a href="../cmake.html"><strong aria-hidden="true">4.</strong> CMake</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../cmake/cmakelists.html"><strong aria-hidden="true">4.1.</strong> Struktura CMakeLists.txt</a></li><li class="chapter-item expanded "><a href="../cmake/build.html"><strong aria-hidden="true">4.2.</strong> Kompilůace z příkazová řádky</a></li></ol></li><li class="chapter-item expanded "><a href="../clion.html"><strong aria-hidden="true">5.</strong> CLion</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../chap_1_software/text/clion.html"><strong aria-hidden="true">5.1.</strong> CLion IDE</a></li><li class="chapter-item expanded "><a href="../clion/install.html"><strong aria-hidden="true">5.2.</strong> Instalace</a></li><li class="chapter-item expanded "><a href="../clion/open_cmake.html"><strong aria-hidden="true">5.3.</strong> Otevření cmake projektu</a></li><li class="chapter-item expanded "><a href="../clion/build.html"><strong aria-hidden="true">5.4.</strong> Kompilace programu</a></li><li class="chapter-item expanded "><a href="../clion/run.html"><strong aria-hidden="true">5.5.</strong> Spuštění programu</a></li><li class="chapter-item expanded "><a href="../clion/remote.html"><strong aria-hidden="true">5.6.</strong> Profil vzdáleného ladění</a></li><li class="chapter-item expanded "><a href="../clion/git/pull.html"><strong aria-hidden="true">5.7.</strong> Git aktualizace ze serveru</a></li><li class="chapter-item expanded "><a href="../clion/git/commit.html"><strong aria-hidden="true">5.8.</strong> Git potvrzení změn</a></li><li class="chapter-item expanded "><a href="../clion/git/push.html"><strong aria-hidden="true">5.9.</strong> Git odeslání změn na server</a></li><li class="chapter-item expanded "><a href="../clion/git/log.html"><strong aria-hidden="true">5.10.</strong> Git log</a></li></ol></li><li class="chapter-item expanded "><a href="../cpp.html"><strong aria-hidden="true">6.</strong> C++</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../cpp/jazyk.html"><strong aria-hidden="true">6.1.</strong> Jazyk</a></li><li class="chapter-item expanded "><a href="../cpp/kontejnery.html"><strong aria-hidden="true">6.2.</strong> Kontejnery</a></li><li class="chapter-item expanded "><a href="../cpp/algoritmy.html"><strong aria-hidden="true">6.3.</strong> Algoritmy</a></li><li class="chapter-item expanded "><a href="../cpp/patterns.html"><strong aria-hidden="true">6.4.</strong> Návrhové vzory</a></li></ol></li><li class="chapter-item expanded "><a href="../chap_1_software/text/ros.html"><strong aria-hidden="true">7.</strong> Robotic Operating System</a></li><li class="chapter-item expanded "><a href="../principy/INDEX.html"><strong aria-hidden="true">8.</strong> Principy</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../principy/superloop.html"><strong aria-hidden="true">8.1.</strong> Supersmyčka a zpětnovazební řízení</a></li><li class="chapter-item expanded "><a href="../principy/mediator.html"><strong aria-hidden="true">8.2.</strong> Mediator - Protokolový eventový parser</a></li><li class="chapter-item expanded "><a href="../principy/controller.html"><strong aria-hidden="true">8.3.</strong> Stavový controller</a></li><li class="chapter-item expanded "><a href="../principy/protostack.html"><strong aria-hidden="true">8.4.</strong> Procházení komunikačním protokolem ISO/OSI</a></li><li class="chapter-item expanded "><a href="../principy/splitfiles.html"><strong aria-hidden="true">8.5.</strong> Organizace projektu / práce v týmu</a></li><li class="chapter-item expanded "><a href="../principy/isolate.html"><strong aria-hidden="true">8.6.</strong> Oddělení modulů - Zrychlení kompilace</a></li></ol></li></ol>
            </div>
            <div id="sidebar-resize-handle" class="sidebar-resize-handle"></div>
        </nav>

        <div id="page-wrapper" class="page-wrapper">

            <div class="page">
                
                <div id="menu-bar-hover-placeholder"></div>
                <div id="menu-bar" class="menu-bar sticky bordered">
                    <div class="left-buttons">
                        <button id="sidebar-toggle" class="icon-button" type="button" title="Toggle Table of Contents" aria-label="Toggle Table of Contents" aria-controls="sidebar">
                            <i class="fa fa-bars"></i>
                        </button>
                        <button id="theme-toggle" class="icon-button" type="button" title="Change theme" aria-label="Change theme" aria-haspopup="true" aria-expanded="false" aria-controls="theme-list">
                            <i class="fa fa-paint-brush"></i>
                        </button>
                        <ul id="theme-list" class="theme-popup" aria-label="Themes" role="menu">
                            <li role="none"><button role="menuitem" class="theme" id="light">Light (default)</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="rust">Rust</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="coal">Coal</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="navy">Navy</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="ayu">Ayu</button></li>
                        </ul>
                        
                        <button id="search-toggle" class="icon-button" type="button" title="Search. (Shortkey: s)" aria-label="Toggle Searchbar" aria-expanded="false" aria-keyshortcuts="S" aria-controls="searchbar">
                            <i class="fa fa-search"></i>
                        </button>
                        
                    </div>

                    <h1 class="menu-title">BPC-PRP</h1>

                    <div class="right-buttons">
                        <a href="../print.html" title="Print this book" aria-label="Print this book">
                            <i id="print-button" class="fa fa-print"></i>
                        </a>
                        
                    </div>
                </div>

                
                <div id="search-wrapper" class="hidden">
                    <form id="searchbar-outer" class="searchbar-outer">
                        <input type="search" name="search" id="searchbar" name="searchbar" placeholder="Search this book ..." aria-controls="searchresults-outer" aria-describedby="searchresults-header">
                    </form>
                    <div id="searchresults-outer" class="searchresults-outer hidden">
                        <div id="searchresults-header" class="searchresults-header"></div>
                        <ul id="searchresults">
                        </ul>
                    </div>
                </div>
                

                <!-- Apply ARIA attributes after the sidebar and the sidebar toggle button are added to the DOM -->
                <script type="text/javascript">
                    document.getElementById('sidebar-toggle').setAttribute('aria-expanded', sidebar === 'visible');
                    document.getElementById('sidebar').setAttribute('aria-hidden', sidebar !== 'visible');
                    Array.from(document.querySelectorAll('#sidebar a')).forEach(function(link) {
                        link.setAttribute('tabIndex', sidebar === 'visible' ? 0 : -1);
                    });
                </script>

                <div id="content" class="content">
                    <main>
                        <h1><a class="header" href="#git-simulátor" id="git-simulátor">GIT, simulátor</a></h1>
<p>Cvičící: Ing. Adam Ligocki, Ph.D., Ing. Tomáš Horeličan</p>
<h2><a class="header" href="#git-cca-1-hod" id="git-cca-1-hod">GIT (cca 1 hod)</a></h2>
<p>Každý student se nejprve zaregistruje na studentském <a href="https://student.robotika.ceitec.vutbr.cz/">GitLab serveru</a>. Doporučuji také verifikovat emailovou adresu, bude se Vám to hodiť při některých operacích.</p>
<p>Tento server bude po zbytek kurzu BPC-PRP Vás tzv. <code>origin</code>, tedy vzdálené repozitář.</p>
<p>Vyučující mají náhled do všech Vaších repozitářů, včetně jejich historii a mohou přůběžně sledovat Vaší práci, případně kdo, kdy a jak intenzivně &quot;commitoval&quot;.</p>
<p>Na serveru si můžete vytvořit repozitář, ve kterém budete následne udržovat kód po zbytek kurzu.
Nejprve je ale potřebné zajistit by Váš počítač měl k tomuto repozitáři přístup a mohl si z něj <code>&quot;pullovat&quot;</code> nové změny a <code>&quot;pushovat&quot;</code> na něj své lokálni změny.
Pro toto budete využívat SSH (Secure SHell) klíče.</p>
<h3><a class="header" href="#vytvoření-ssh-klíčů-pro-přístup-k-repozitářům" id="vytvoření-ssh-klíčů-pro-přístup-k-repozitářům">Vytvoření SSH klíčů pro přístup k repozitářům</a></h3>
<p>Pár klíčů vygenerujte pouze jeden krát na jednom počítači.</p>
<p>Klíče se ukádají lokálně na počítači a jsou pak spárované s účtem na gitlabu. Pokud tedy pracujete na školním PC, vyberte si jednoho člena týmu, který svůj účet na gitlabu s tímto párem následně v dalších krocích propojí.</p>
<p>Pokud pracujete na svém vlastním počítači postupujte s vaším vlastním gitlab účtem.</p>
<blockquote>
<p><strong><em>POZNÁMKA:</em></strong>  Kdykoliv uvidíte špicaté závorky s nějakým textem <code>&lt;text&gt;</code>, znamená to, že máte tento text včetě závorek něčím nahradit.</p>
</blockquote>
<ol>
<li>Vygenerujte si klíče pomocí příkazu <code>ssh-keygen -t ed25519 -C &quot;&lt;comment&gt;&quot;</code></li>
</ol>
<details>
    <summary>Tip!</summary>
Jako koment doporučuji zadat emailovou adresu, kterou máte spojenou s vaším gitlab účtem. Snadněji pak spoznáte k čemu klíče patří. 
</details>
<ol start="2">
<li>Poté (po vyzváni) zadejte adresářovou cestu, kam se mají klíče uložit. Doporučuji ponechat &quot;defaultni&quot; cestu
ale upravit jméno, například takto: <code>/home/&lt;user-name&gt;/.ssh/id_ed25519_gitlab_uamt_&lt;group-number&gt;</code>.</li>
</ol>
<details>
    <summary>Tip!</summary>
<p>Tá poslední část (tedy <code>id_ed25519_gitlab_uamt_&lt;group-number&gt;</code>) je jméno, se kterým se klíče vygenerují.
Můžete ho nahradit čím chcete ale musíte to samé pak taky použít v dalších krocích. Tady při psaní nepoužívejte šípky (nebudou Vám fungovat).</p>
</details>
<ol start="3">
<li>
<p>Poté (po vyzváni), pokud chcete, zadejte heslo pro zabezpečení klíče. Jinak jen potvrďte stisknutím <code>Enter</code>.</p>
</li>
<li>
<p>Otevřete soubor <code>/home/&lt;user-name&gt;/.ssh/config</code> (například v nano) a přidejte následujíci:</p>
</li>
</ol>
<pre><code># Student gitlab instance at student.robotika.ceitec.vutbr.cz
Host student.robotika.ceitec.vutbr.cz
  PreferredAuthentications publickey
  IdentityFile ~/.ssh/id_ed25519_gitlab_uamt_&lt;group-number&gt;
</code></pre>
<details>
    <summary>Tip!</summary>
Pokud jste si zvolili jiné jméno klíče, musíte ho stejně zadat i zde.
</details>
<ol start="5">
<li>Zkopírujte obsah souboru <code>/home/&lt;user-name&gt;/.ssh/id_ed25519_gitlab_uamt_&lt;group-number&gt;.pub</code></li>
</ol>
<details>
    <summary>Tip!</summary>
Pokud jste si zvolili jiné jméno klíče, musíte ho opět stejně zadat i zde.
</details>
<blockquote>
<p><strong>POZOR!</strong> Kopírujte jen ze souboru s příponou <code>.pub</code>!
Pokud má obsah více než jeden řádek a nebo začíná řádkem <code>-----BEGIN OPENSSH PRIVATE KEY-----</code>, pravdepodobne kopírujete z nesprávneho souboru!</p>
</blockquote>
<ol start="6">
<li>
<p>V gitlabu přejdete do <code>Preferences &gt; SSH Keys</code>, vložte zkopírovaný obsah, pojmenujte tady svůj klíč (např. &quot;Notebook-Ubuntu&quot;) a potvrďte stisknutím <code>Add key</code>.</p>
</li>
<li>
<p>Teď by ste meli mít z Vašeho počítače přístup ke všem Vaším (budoucím) repozitářům.
Zároveň ste se naučili jak můžete v budoucnu spravovat více různych klíčů pro různe git servery.</p>
</li>
</ol>
<p><sup>*</sup>Detailnejší návody najdete také na stránkach <a href="https://student.robotika.ceitec.vutbr.cz/help/ssh/index#generate-an-ssh-key-pair">GitLabu</a> nebo <a href="https://docs.github.com/en/authentication/connecting-to-github-with-ssh">GitHubu</a>. <br /></p>
<p>V rámci týmu si teď vyzkoušejte následujicí cvičení:</p>
<h3><a class="header" href="#základní-nastavení-gitu" id="základní-nastavení-gitu">Základní nastavení GITu</a></h3>
<p>✅ Jeden člen vytvoří repozitář na serveru přímo v gitlabu.</p>
<p>✅ Všichni členové si naklonují repozitár k sobě na PC (na školním PC klonuje, zamozřejmě, jen jeden užívatel).</p>
<details>
    <summary>Jak naklonovat vdálený repozitář?</summary>
<p><code>git clone &lt;ssh-link-to-repo.git&gt;</code></p>
</details>
<p>✅ Každý si ve svém naklonovaném repozitáři nastavi jméno a emailovou adresu, se kterýma bude do repozitáře commitovat.
Na školním PC to bude pouze ten člen, který si pro ňej pároval i SSH klíče.</p>
<details>
    <summary>Jak nastavit jméno a email?</summary>
<pre><code>git config user.name &quot;&lt;committing-user-name&gt;&quot;
git config user.email &lt;committing-user-email&gt;
</code></pre>
<p>Doporučuji nastavit stejnou emailovou adresu jakou máte ve svém gitlab účtu.</p>
</details>
<details>
    <summary>Tip!</summary>
<p>Podívejte se jak vypadá soubor <code>.git/config</code>. Nastavení můžete měnit i editováním přímo v tomto souboru.</p>
</details>
<h3><a class="header" href="#základní-git-workflow-bash" id="základní-git-workflow-bash">Základní GIT workflow (Bash)</a></h3>
<p>✅ Jeden člen týmu vytvoří na lokále hello world program, <code>&quot;commitne&quot;</code> jej a <code>&quot;pushne&quot;</code> jej na <code>origin</code>.</p>
<details>
    <summary>Jak se commituje a pushuje?</summary>
<pre><code>git add &lt;files-to-add&gt;
git commit -m &quot;my first commit&quot;
git push
</code></pre>
</details>
<details>
    <summary>Tip!</summary>
<p>Pomocí příkazů <code>git status</code> a <code>git diff</code> sledujte průběžně změny v repozitáři.</p>
</details>
<p>✅ Zbytek týmu si <code>&quot;pullne&quot;</code> změny k sobě na lokál.</p>
<details>
    <summary>Jak se pulluje?</summary>
<pre><code>git pull
</code></pre>
</details>
<p>✅ Dva členové týmu si skusí vyrobit konflikt tak, že zároveň změní stejný řádek v kódu a pokusí se jej <code>&quot;pushnout&quot;</code> na server.
Druhému v pořádí, který se pokusí o <code>push</code>, git zahlásí chybu.</p>
<p>✅ Nešťastný člen týmu, který má nahlášený konflikt, se pokusí o jeho <code>fix</code> a opravenou verzi <code>&quot;pushne&quot;</code> na origin.</p>
<details>
    <summary>Jak vyřešit konflikt?</summary>
<p>Nejprve si <code>&quot;pullnete&quot;</code> aktualni verzi z <code>&quot;originu&quot;</code>. Podívejte se co se stalo s Vaším kódem.
Upravte ho tak aby v nem bylo vše co požadujete. Opět <code>&quot;commitnete&quot;</code> a zkuste <code>&quot;pushnout&quot;</code>.</p>
</details>
<p>✅ Všichni členové týmu si <code>&quot;pullnou&quot;</code> aktuální verzi repozitáře.</p>
<p>✅ Jeden člen týmu vytvoří nový lokálni <code>branch</code>, <code>&quot;checkoutne&quot;</code> se do nej a vyrobí si vlastní <code>.h</code> soubor a v něm funkci, která vytiskne jeho jméno.
Změny standardně <code>&quot;commitne&quot;</code> a pokusí se <code>&quot;pushnout&quot;</code>.</p>
<details>
    <summary>Jak udělat branch a checkoutnout?</summary>
<pre><code>git branch &lt;name-of-the-new-branch&gt;
git checkout &lt;name-of-an-existing-branch&gt;
</code></pre>
</details>
<details>
    <summary>Tip!</summary>
<p>Co se stalo když ste se pokusili <code>&quot;pushnout&quot;</code> nový branch? Co Vám poradil <code>git</code>?</p>
</details>
<p>✅ Všichni si <code>&quot;pullnou&quot;</code> nové zmeny k sobě a <code>&quot;checkoutnou&quot;</code> se na nový branch v <code>&quot;originu&quot;</code>.
Každý člen týmu si pak vyrobí vlastní <code>.h</code> soubor a v něm taky funkci, která vytiskne jeho jméno.
Všichni <code>&quot;pushnou&quot;</code> své změny na server.</p>
<details>
    <summary>Tip!</summary>
<p>Při <code>&quot;checkoutu&quot;</code> se nažte využívat doplňování pomocí <code>Tab</code>.</p>
</details>
<p>✅ Jeden člen týmu si <code>&quot;pullne&quot;</code> nově vytvořené <code>.h</code> soubory a upraví hello world program tak aby využíval všechen nově vytvořený kód.
Změny pushne na <code>origin</code> a v gilabu vytvoří nový <code>Merge Request</code> z nového <code>&quot;branchu&quot;</code> do <code>&quot;branchu&quot; main</code>.</p>
<blockquote>
<p><strong>POZNÁMKA:</strong> Pokud ste v gitlabu ve svém repozitáři a vlevo nevidíte možnost <code>Merge requests</code>, musíte si je v nastaveních povolit.
Přejdete do (vlevo) <code>Settings &gt; General</code>, v části <code>Visibility, project features, permissions</code> klikněte na <code>Expand</code> a povolte <code>Merge requests</code>.</p>
</blockquote>
<details>
    <summary>Tip!</summary>
<p>Velmi užitečným nástrojem jsou i takzvané <code>Issues</code>, které povolíte v týchž nastaveních jako <code>Merge requesty</code>.
Pomocí nich můžou developeři zaznamenávat chyby, které je třeba opravit nebo diskutovat nové &quot;featury&quot;.
<code>Issues</code> v tomto cviku používat nebudete ale můžete se s nima pohrát samostatně a také je můžete pak využívat při práci na projektu.</p>
</details>
<p>✅ Nyní si všichni skuste pohrát s <code>MR (&quot;Merge Requestem&quot;)</code> v gitlabu.
Přidávejte komentáře a zkuste v nich také vkládat odkazy na <code>&quot;commity&quot;</code> a části kódu.</p>
<p>✅ Jeden člen týmu nakonec <code>Merge Request</code> potvrdí.</p>
<p>✅ Všichni si <code>&quot;pullnou&quot;</code> aktuální stav repozitáře.</p>
<details>
    <summary>Tip!</summary>
<p>Zkuste se pomocí příkazu <code>git log</code> podívat na aktuálni historii <code>&quot;commitů&quot;</code>.
Pokud je <code>log</code> příliž dlouhej, vrátite se zpět stisknutím klávesy <code>q</code>.</p>
</details>
<h3><a class="header" href="#integrace-gitu-v-clion-ide" id="integrace-gitu-v-clion-ide">Integrace GITu v Clion IDE</a></h3>
<p>Všechny operace, které ste právě dělali se dají mnohem snadněji a efektivněji udělat i v Clionu.
Dálší část budete delat už přímo v Clionu.</p>
<p>✅ Všichni si v Clionu otevřou složku se svým repozitářem.</p>
<details>
    <summary>Tip!</summary>
<p>Když si vlevo dolu rozklikněte modul <code>Git</code> uvidíte přehledne celou vaší historii <code>&quot;commitů&quot;</code> a také všechny <code>&quot;branche&quot;</code>, které git právě sleduje.
<code>&quot;Checkoutovat&quot;</code> můžete (pravé tlačítko myši) nejen do branchů ale také do jekéhokoliv <code>&quot;commitu&quot;</code>.</p>
</details>
<p>✅ Všichni si <code>&quot;pullnou&quot;</code> aktuální stav repozitáře pomocí modré sípky napravo nahoře (<code>Update project...</code>) a <code>&quot;checkoutnou&quot;</code> do lokálního <code>&quot;branchu&quot; main</code>.</p>
<p>✅ Jeden člen týmu vytvoří nový soubor s názvem <code>README.md</code> (pokud takový soubor ješte neexistuje), jeden soubor s názvem <code>.gitignore</code> (včetně tečky) a jeden textový soubor s názvem <code>random_file.txt</code>.</p>
<p>✅ Do souboru <code>README.md</code> společně doplňte stručný popis repozitáře pomocí <code>markdown</code> syntaxe.</p>
<details>
    <summary>Jak vypadá markdown?</summary>
<pre><code># Main title
This repository contains source files for the BPC-PRP cource ...

# Table of contents
* [Main title](#main-title)
* [Subtitle](#this-is-a-subtitle)
* [SubSubtitle](#this-is-a-sub-subtitle)
* [Itemizing](#itemizing)
* [Enumerating](#enumeration)
* [Tables](#tables)

## This is a subtitle
Our solution for winning the competition was ...

### This is a sub-subtitle
**BALD TEXT**: Our C++ class `short name in code format` uses the ... algorithm to solve the ...

    Long text displayed in code format.
    It contains excerptions of our code
    or other stuff.

[This](https://google.com) is a web page link.

### Itemizing
* Line 1.
* Line 2.

### Enumeration
1. Step one.
2. Step two.

### Tables
| Col 1  | Col 2  | Col 3  | Col 4  |
|--------|--------|--------|--------|
| Row 11 | Row 12 | Row 13 | Row 12 |
| Row 21 | Row 22 | Row 23 | Row 12 |
</code></pre>
</details>
<p>✅ Člen týmu, který soubor právě edituje klikne na modul <code>Commit</code> (vlevo), kde uvidí všechny aktuálne rozpracované soubory.
Po rozkliknutí souboru také přehledně uvidí všechny změny, které v tom souboru udělal.</p>
<p>✅ V části <code>Untracked files</code> uvidíte všechny nové soubory, které ste právě vytvořili.</p>
<p>✅ Člen týmu, který vytvářel soubory si otevře <code>.gitignore</code> a do něj přímo napíše název posledně vytvořeného textového souboru (tedy <code>random_file.txt</code>).
Pak se pak vráti do modulu <code>Commit</code> (vlevo).</p>
<details>
    <summary>Tip!</summary>
<p>Sledujte co se stalo v části <code>Untracked files</code>. Pokud tam zůstali ješte nejaké jiné neznáme soubory, můžete je stejně přidat do <code>.gitignore</code>.
Typicky to bývají soubory z <code>cmake</code> nebo od Clionu. Když do <code>.gitignore</code> vložíte <code>cmake*</code> bude git ignorovat všechno, co začína textem cmake (včetně složek).</p>
</details>
<details>
    <summary>Pro Tip!</summary>
<p>Podobné chování dosáhnete i přes soubor <code>.git/info/exclude</code>.
Rozdíl je v tom, že ten je přístupnej vždy jen lokálne pro Vás a to co do něj vložíte nikto jiný neuvidí a tedy ani u nikoho jiného fungovat nebude.</p>
</details>
<p>✅ Do okna dolu vloží info o <code>&quot;commitu&quot;</code> (takzvaný <code>commit message</code>), <code>&quot;pushne&quot;</code> stlačením <code>Commit and Push...</code> a potvrdí.</p>
<p>✅ Dva členové se opět pokusí vytvořit konflikt editovaním stejného řádku v jednom souboru.</p>
<p>✅ Nešťastný člen týmu opět dostane varováni o konfliktu a stačením <code>Rebase</code> se ho pokusí řešit.</p>
<p>✅ Řešitel konfliktu pak vybere možnost <code>Merge</code> a sloučí změny tak aby soubor obsahoval změny od obou členů.
Stlačením <code>Push...</code> (zelená šipka vpravo nahoře) odešle finálni verzi do <code>&quot;originu&quot;</code>.</p>
<p>Nový <code>branch</code> v Clionu vytvoříte v modulu <code>Git</code> stlačením ikonky <code>plus</code> vlevo.
Můžete také udělat nový <code>branch</code>, který přímo navazuje na jiný než ten aktuálni a to kliknutím pravým tlačítkem miší a výběrem <code>New branch from selected...</code>.</p>
<h3><a class="header" href="#podepisování-commitů-pomocí-gpg-klíčů-optional" id="podepisování-commitů-pomocí-gpg-klíčů-optional">Podepisování commitů pomocí GPG klíčů (optional)</a></h3>
<p>Pokud chcete svoje <code>&quot;commity&quot;</code> podepisovat jako &quot;ověřený&quot; užívatel, je nutné mít verifikovaný email ve Vašem gitlab účtu.</p>
<ol>
<li>Klíče vygenerujete pomocí příkazu <code>gpg --full-gen-key</code>, případne <code>gpg --gen-key</code>.</li>
</ol>
<details>
    <summary>Tip!</summary>
<p>Balíček <code>gpg</code> nainstalujete standardně příkazem <code>sudo apt install gpg</code></p>
</details>
<ol start="2">
<li>
<p>Následně jen stiskňete klávesu <code>Enter</code> (vybírame &quot;default&quot; možnost <code>RSA and RSA</code>).</p>
</li>
<li>
<p>Po vyzváni pak zadejte velikost klíče 4096.</p>
</li>
<li>
<p>V dalším kroku můžete opět jen stisknout <code>Enter</code> (vaším klíčem nikdy neskončí platnost) a pak potvrdíte zadaním <code>y</code>.</p>
</li>
<li>
<p>Teď budete postupně zadávat údaje o účtu, se kterým budou klíče asociovány:</p>
<p>5.1 Jméno doporučuji zvolit stejné jako máte nastavené v účtu na gitlabu.</p>
<p>5.2 Email musí být stejný jako máte ve svém účtu na gitlabu a musí být verifikován. Email musí být také stejný jako ste si nastavili v konfiguraci gitu (email <code>&quot;commitujicího&quot;</code>). Jinak Vám gitlab bude zobrazovat <code>&quot;commity&quot;</code> jako neověřené.</p>
<p>5.3 Jako poznámku můžete zadat třeba &quot;Gitlab VUT&quot; abyste pak klíč rozeznali.</p>
</li>
<li>
<p>Vyberte si heslo (tento krok nezle přeskočit).</p>
</li>
<li>
<p>Když se Vaše klíče vygenerují, pomocí příkazu <code>gpg --list-secret-keys --keyid-format LONG &lt;your-email&gt;</code> si zobrazíte váš privátni klíč.</p>
</li>
<li>
<p>Skopírujte sekvencií znaků (ID Vašeho klíče), která následuje hned po <code>sec rsa4096/</code> v prvním řádku.</p>
</li>
<li>
<p>Pomocí příkazu <code>gpg --armor --export &lt;skopirovane-ID-klice&gt;</code> vygenerujete veřejnou část vašeho páru klíčů.</p>
</li>
<li>
<p>Skopírujte všechno od <code>-----BEGIN PGP PUBLIC KEY BLOCK-----</code> až po <code>-----END PGP PUBLIC KEY BLOCK-----</code>, včetně obou.</p>
</li>
<li>
<p>V gitlabu přejdete do <code>Preferences &gt; GPG Keys</code>,  vložte skopírovaný obsah a potvrďte stlačením <code>Add key</code>.</p>
</li>
<li>
<p>V Clionu (kde máte otevřený svůj repozitář) přejdete do <code>Settings &gt; Git &gt; Configure GPG key</code> a vyberte se seznamu Váš klíč.</p>
</li>
</ol>
<details>
    <summary>Tip!</summary>
<p>Podívejte co se změnilo v souboru <code>.git/config</code>. To samé by se dalo opět dosáhnout editováním tohto souboru, avšak v Clionu je to mnohem jedndušší.</p>
</details>
<ol start="13">
<li>
<p>Jeden člen týmu zkusí cvične udělat nejaký <code>commit</code> (měl by dostat výzvu na zadáni hesla) a <code>&quot;pushnout&quot;</code>.</p>
</li>
<li>
<p>Pokud všechno probehlo správně měli by ste v gitlabu v historii <code>&quot;commitů&quot;</code> vidět svůj commit označený jako <code>verified</code>.</p>
</li>
</ol>
<details>
    <summary>Tip!</summary>
<p>Pro <code>&quot;commitování&quot;</code> s podpisem přes <code>Bash</code> se používa <code>git commit -S -m &quot;my signed commit&quot;</code></p>
</details>
<p><sup>*</sup>Detailnejší návody najdete také na stránkach <a href="https://git.robotika.ceitec.vutbr.cz:2223/help/user/project/repository/gpg_signed_commits/index.md">GitLabu</a> nebo <a href="https://docs.github.com/en/authentication/managing-commit-signature-verification">GitHubu</a>. <br /></p>
<h2><a class="header" href="#simulátor-cca-30-min" id="simulátor-cca-30-min">Simulátor (cca 30 min)</a></h2>
<p>Ze <a href="https://github.com/Robotics-BUT/BPC-PRP">stránek kurzu</a> si <code>&quot;naclonujte&quot;</code> aktuální stav repozitáře.</p>
<p>Ve složce <code>resources/</code> naleznete soubor <code>config.yaml</code>. Z něj si bude simulátor načítat hodnoty pro Vaší simulaci, mezi jinými nastavení síťové komunikace, simulované rozměry robota, parametry podvozku, rozmístění snímačů, a hlavně cestu k mapě, se kterou bude simulátor pracovat. Tu si upravte pro svůj vlastní souborový systém.</p>
<p>Dále se ve složce <code>resources/</code> nachází také jedna vzorová mapa. Nahlédněté do ní a všiměnte si struktury YAML dat. Nachází se zde informace o šířce čáry a následně je zde pole úseček definovaných vždy <code>[bod1_x, bod1_y, bod2_x, bod2_y]</code>. V budoucnu si budete vytvářet taky vlastní mapy.</p>
<details>
    <summary>Tip!</summary>
<p>Zkuste se zamyslet nad tím jak si zjednodušit tvorbu map. Můžete např. využít nějaký grafický nástroj, soubor si vyexportovat do nějakého vhodného formátu a pak prekonvertovat do <code>.yaml</code>. Řešení je na Vás.</p>
</details>
<p>✅ Nastavte si v souboru <code>config.yaml</code> validní cestu k mapě <code>route_1.yaml</code>.</p>
<p>✅ Po změně obsahu souboru si vyzkoušejte validitu <code>.yaml</code> souboru v <a href="http://www.yamllint.com/">online nástroji</a>.</p>
<p>Nyní zbývá si vyzkoušet oživit celý systém.
Repozitář obsahuje ve složce <code>bin/</code> skompilovanou binárku simulátoru nazvanou &quot;simulator&quot;. Pokud máte korektně nainstalovaný ROS, otevřete si 3 terminály.
Pokud ne, nainstalujte si ho podle návodu na <a href="https://robotics-but.github.io/BPC-PRP/chap_1_software/text/ros.html">stránkach kurzu</a> nebo přímo <a href="http://wiki.ros.org/noetic/Installation/Ubuntu">stránkach rosu</a>.</p>
<blockquote>
<p><strong>POZNÁMKA:</strong> Pokud nemáte ve svém <code>/home/&lt;user-name&gt;/.bashrc</code> souboru přidán příkaz <code>source /opt/ros/noetic/setup.bash</code> budete muset v každém novém okně vždy tento příkaz zavolat, jinak Váš počítač nepozná, že máte nainstalovaný ROS.</p>
</blockquote>
<details>
    <summary>Tip pro práci s více terminály</summary>
<p>Pro práci s více okny terminálů je dobré si nainstalovat pomocí balíčkovacího manažeru program &quot;terminator&quot; nebo &quot;tilix&quot;. Ten Vám umožní v jednom okně mít otevřených více terminálu.</p>
</details>
<details>
    <summary>Vím jak se pracuje s balíčkovacím manažerem, jen potřebuji osvěžit paměť.</summary>
<p><code>sudo apt install &lt;package-name&gt;</code></p>
</details>
<p>✅ V 1. terminále zapněte <code>roscore</code></p>
<p>✅ V 2. terminále spusťte binárku simulátoru, jako argument programu přidejte absolutní cestu ke konfiguračnímu souboru, který jste dříve editovali.</p>
<details>
    <summary>Vím jak se spouštějí binárky, jen potřebuji osvěžit paměť.</summary>
<p><code>./&lt;path-to-binary-file&gt;</code></p>
</details>
<p>✅ V 3. terminále zapněte <code>rviz</code> a přidejte si vizualizaci topicků </p>
<h3><a class="header" href="#konfigurace-rvizu" id="konfigurace-rvizu">Konfigurace RVizu</a></h3>
<p><img src="../images/rviz_1.jpg" alt="empty RViz" /></p>
<p>Pokud běží simulátor, v levé dolní sekci tlačítkem <code>Add</code> otevřete okno pro přidání vizualizací.</p>
<p><img src="../images/rviz_2.jpg" alt="RViz add topic by display type" /></p>
<p>V záložce <code>By Display Type</code> vyberte položku <code>TF</code> a dvojitým polikem jí přidejte do zobrazení. Dále v levé horní části v záložce <code>Global Options</code> nastavte položku <code>Fixed Frame</code> na hodnotu <code>origin</code>. Tímto jsme RVizu řekli, že má zobrazovat souřadný systém <code>origin</code> a vůči němu vykreslovat všechny ostatní souřadné systémy, se kterými simulátor pracuje.</p>
<p>Opětovně otevřete okno pro přidání vizualizací a přejděte do záložky <code>By Topic</code>. </p>
<p><img src="../images/rviz_3.jpg" alt="RViz add topic by topic" /></p>
<p>Postupně si přidejte všenchy vizualizace markerů pod topicky (v obdélniku <code>Display Name</code> můžete vizualizaci topicu pojmenovat):</p>
<ul>
<li>/bpc_prp/line</li>
<li>/bpc_prp/robot_body</li>
<li>/bpc_prp/sensors</li>
<li>/bpc_prp/wheels/left</li>
<li>/bpc_prp/wheels/right</li>
</ul>
<p>Ihned po přidání nové vizualizace si jí můžete také přejmenovat použitím tlačítka <code>Rename</code> na penelu vlevo dole.</p>
<p>✅ Výsledek by měl vypadat následovně:</p>
<p><img src="../images/prp_1.jpg" alt="RViz Ready" /></p>
<p>Současné nastavení RVizu uložíte klávesovou zkratkou CTRL+S</p>
<p>✅ Prozkoumejte další možnosti nastavení vizualizací v RVizu, jako velikost mříždy, průhlednost, barva pozadí, atd.</p>

                    </main>

                    <nav class="nav-wrapper" aria-label="Page navigation">
                        <!-- Mobile navigation buttons -->
                        
                            <a rel="prev" href="../cviceni/cviceni_02_linux_cli_cpp.html" class="mobile-nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                                <i class="fa fa-angle-left"></i>
                            </a>
                        

                        
                            <a rel="next" href="../cviceni/cviceni_04_udp.html" class="mobile-nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                                <i class="fa fa-angle-right"></i>
                            </a>
                        

                        <div style="clear: both"></div>
                    </nav>
                </div>
            </div>

            <nav class="nav-wide-wrapper" aria-label="Page navigation">
                
                    <a rel="prev" href="../cviceni/cviceni_02_linux_cli_cpp.html" class="nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                        <i class="fa fa-angle-left"></i>
                    </a>
                

                
                    <a rel="next" href="../cviceni/cviceni_04_udp.html" class="nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                        <i class="fa fa-angle-right"></i>
                    </a>
                
            </nav>

        </div>

        

        

        

        
        <script type="text/javascript">
            window.playground_copyable = true;
        </script>
        

        

        
        <script src="../elasticlunr.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="../mark.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="../searcher.js" type="text/javascript" charset="utf-8"></script>
        

        <script src="../clipboard.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="../highlight.js" type="text/javascript" charset="utf-8"></script>
        <script src="../book.js" type="text/javascript" charset="utf-8"></script>

        <!-- Custom JS scripts -->
        

        

    </body>
</html>
