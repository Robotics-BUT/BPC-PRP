<!DOCTYPE HTML>
<html lang="en" class="sidebar-visible no-js light">
    <head>
        <!-- Book generated using mdBook -->
        <meta charset="UTF-8">
        <title>Snímání čáry - BPC-PRP</title>
        
        


        <!-- Custom HTML head -->
        


        <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="theme-color" content="#ffffff" />

        <link rel="icon" href="../favicon.svg">
        <link rel="shortcut icon" href="../favicon.png">
        <link rel="stylesheet" href="../css/variables.css">
        <link rel="stylesheet" href="../css/general.css">
        <link rel="stylesheet" href="../css/chrome.css">
        <link rel="stylesheet" href="../css/print.css" media="print">

        <!-- Fonts -->
        <link rel="stylesheet" href="../FontAwesome/css/font-awesome.css">
        
        <link rel="stylesheet" href="../fonts/fonts.css">
        

        <!-- Highlight.js Stylesheets -->
        <link rel="stylesheet" href="../highlight.css">
        <link rel="stylesheet" href="../tomorrow-night.css">
        <link rel="stylesheet" href="../ayu-highlight.css">

        <!-- Custom theme stylesheets -->
        

        
    </head>
    <body>
        <!-- Provide site root to javascript -->
        <script type="text/javascript">
            var path_to_root = "../";
            var default_theme = window.matchMedia("(prefers-color-scheme: dark)").matches ? "navy" : "light";
        </script>

        <!-- Work around some values being stored in localStorage wrapped in quotes -->
        <script type="text/javascript">
            try {
                var theme = localStorage.getItem('mdbook-theme');
                var sidebar = localStorage.getItem('mdbook-sidebar');

                if (theme.startsWith('"') && theme.endsWith('"')) {
                    localStorage.setItem('mdbook-theme', theme.slice(1, theme.length - 1));
                }

                if (sidebar.startsWith('"') && sidebar.endsWith('"')) {
                    localStorage.setItem('mdbook-sidebar', sidebar.slice(1, sidebar.length - 1));
                }
            } catch (e) { }
        </script>

        <!-- Set the theme before any content is loaded, prevents flash -->
        <script type="text/javascript">
            var theme;
            try { theme = localStorage.getItem('mdbook-theme'); } catch(e) { }
            if (theme === null || theme === undefined) { theme = default_theme; }
            var html = document.querySelector('html');
            html.classList.remove('no-js')
            html.classList.remove('light')
            html.classList.add(theme);
            html.classList.add('js');
        </script>

        <!-- Hide / unhide sidebar before it is displayed -->
        <script type="text/javascript">
            var html = document.querySelector('html');
            var sidebar = 'hidden';
            if (document.body.clientWidth >= 1080) {
                try { sidebar = localStorage.getItem('mdbook-sidebar'); } catch(e) { }
                sidebar = sidebar || 'visible';
            }
            html.classList.remove('sidebar-visible');
            html.classList.add("sidebar-" + sidebar);
        </script>

        <nav id="sidebar" class="sidebar" aria-label="Table of contents">
            <div class="sidebar-scrollbox">
                <ol class="chapter"><li class="chapter-item expanded affix "><a href="../title-page.html">Uvod</a></li><li class="chapter-item expanded affix "><a href="../prednasky.html">Přednášky</a></li><li class="chapter-item expanded affix "><a href="../cviceni.html">Cvičení</a></li><li class="chapter-item expanded "><a href="../chap_1_software/text/intro.html"><strong aria-hidden="true">1.</strong> Softwarové vybavení</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../chap_1_software/text/linux.html"><strong aria-hidden="true">1.1.</strong> Linux a příkazová řádka</a></li><li class="chapter-item expanded "><a href="../chap_1_software/text/git.html"><strong aria-hidden="true">1.2.</strong> Git - Verzovací systému</a></li><li class="chapter-item expanded "><a href="../chap_1_software/text/clion.html"><strong aria-hidden="true">1.3.</strong> CLion IDE</a></li><li class="chapter-item expanded "><a href="../chap_1_software/text/ros.html"><strong aria-hidden="true">1.4.</strong> Robotic Operating System</a></li><li class="chapter-item expanded "><a href="../chap_1_software/text/vb.linux_installation.html"><strong aria-hidden="true">1.5.</strong> Příprava prostředí</a></li></ol></li><li class="chapter-item expanded "><a href="../simulator/intro.html"><strong aria-hidden="true">2.</strong> Simulátor</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../simulator/rozhrani.html"><strong aria-hidden="true">2.1.</strong> Rozhraní</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../simulator/zpravy/BEEP.html"><strong aria-hidden="true">2.1.1.</strong> Zpráva BEEP</a></li><li class="chapter-item expanded "><a href="../simulator/zpravy/BTN.html"><strong aria-hidden="true">2.1.2.</strong> Zpráva BTN</a></li><li class="chapter-item expanded "><a href="../simulator/zpravy/GPIO.DIR.html"><strong aria-hidden="true">2.1.3.</strong> Zpráva GPIO.DIR</a></li><li class="chapter-item expanded "><a href="../simulator/zpravy/GPIO.GET.html"><strong aria-hidden="true">2.1.4.</strong> Zpráva GPIO.GET</a></li><li class="chapter-item expanded "><a href="../simulator/zpravy/GPIO.SET.html"><strong aria-hidden="true">2.1.5.</strong> Zpráva GPIO.SET</a></li><li class="chapter-item expanded "><a href="../simulator/zpravy/HELP.html"><strong aria-hidden="true">2.1.6.</strong> Zpráva HELP</a></li><li class="chapter-item expanded "><a href="../simulator/zpravy/KILL.html"><strong aria-hidden="true">2.1.7.</strong> Zpráva KILL</a></li><li class="chapter-item expanded "><a href="../simulator/zpravy/LED.html"><strong aria-hidden="true">2.1.8.</strong> Zpráva LED</a></li><li class="chapter-item expanded "><a href="../simulator/zpravy/ODO.html"><strong aria-hidden="true">2.1.9.</strong> Zpráva ODO</a></li><li class="chapter-item expanded "><a href="../simulator/zpravy/PING.html"><strong aria-hidden="true">2.1.10.</strong> Zpráva PING</a></li><li class="chapter-item expanded "><a href="../simulator/zpravy/PWM.html"><strong aria-hidden="true">2.1.11.</strong> Zpráva PWM</a></li><li class="chapter-item expanded "><a href="../simulator/zpravy/RESET.html"><strong aria-hidden="true">2.1.12.</strong> Zpráva RESET</a></li><li class="chapter-item expanded "><a href="../simulator/zpravy/SENSOR.html"><strong aria-hidden="true">2.1.13.</strong> Zpráva SENSOR</a></li><li class="chapter-item expanded "><a href="../simulator/zpravy/SERVO.html"><strong aria-hidden="true">2.1.14.</strong> Zpráva SERVO</a></li><li class="chapter-item expanded "><a href="../simulator/zpravy/SPEED.html"><strong aria-hidden="true">2.1.15.</strong> Zpráva SPEED</a></li></ol></li><li class="chapter-item expanded "><a href="../simulator/nmea.html"><strong aria-hidden="true">2.2.</strong> Program nmea</a></li><li class="chapter-item expanded "><a href="../simulator/robot.html"><strong aria-hidden="true">2.3.</strong> Program robot</a></li></ol></li><li class="chapter-item expanded "><a href="../cviceni/cviceni_uvod.html"><strong aria-hidden="true">3.</strong> Cviceni</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../cviceni/cviceni_01_linux_install.html"><strong aria-hidden="true">3.1.</strong> Instalace a seznámení se s prostředím</a></li><li class="chapter-item expanded "><a href="../cviceni/cviceni_02_linux_cli_cpp.html"><strong aria-hidden="true">3.2.</strong> Linux CLI a C++</a></li><li class="chapter-item expanded "><a href="../cviceni/cviceni_03_git.html"><strong aria-hidden="true">3.3.</strong> GIT, simulátor</a></li><li class="chapter-item expanded "><a href="../cviceni/cviceni_04_udp.html"><strong aria-hidden="true">3.4.</strong> UDP komunikace</a></li><li class="chapter-item expanded "><a href="../cviceni/cviceni_05_i2c.html"><strong aria-hidden="true">3.5.</strong> Hardware, I2C, ADC</a></li><li class="chapter-item expanded "><a href="../cviceni/cviceni_06_motory.html"><strong aria-hidden="true">3.6.</strong> Řízení motorů</a></li><li class="chapter-item expanded "><a href="../cviceni/cviceni_07_snimac_cary.html" class="active"><strong aria-hidden="true">3.7.</strong> Snímání čáry</a></li><li class="chapter-item expanded "><a href="../cviceni/cviceni_08_regulator.html"><strong aria-hidden="true">3.8.</strong> Návrh regulátoru</a></li><li class="chapter-item expanded "><a href="../cviceni/cviceni_10_telemetrie_vizualizace.html"><strong aria-hidden="true">3.9.</strong> Telemetrie a vizualizace</a></li></ol></li></ol>
            </div>
            <div id="sidebar-resize-handle" class="sidebar-resize-handle"></div>
        </nav>

        <div id="page-wrapper" class="page-wrapper">

            <div class="page">
                
                <div id="menu-bar-hover-placeholder"></div>
                <div id="menu-bar" class="menu-bar sticky bordered">
                    <div class="left-buttons">
                        <button id="sidebar-toggle" class="icon-button" type="button" title="Toggle Table of Contents" aria-label="Toggle Table of Contents" aria-controls="sidebar">
                            <i class="fa fa-bars"></i>
                        </button>
                        <button id="theme-toggle" class="icon-button" type="button" title="Change theme" aria-label="Change theme" aria-haspopup="true" aria-expanded="false" aria-controls="theme-list">
                            <i class="fa fa-paint-brush"></i>
                        </button>
                        <ul id="theme-list" class="theme-popup" aria-label="Themes" role="menu">
                            <li role="none"><button role="menuitem" class="theme" id="light">Light (default)</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="rust">Rust</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="coal">Coal</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="navy">Navy</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="ayu">Ayu</button></li>
                        </ul>
                        
                        <button id="search-toggle" class="icon-button" type="button" title="Search. (Shortkey: s)" aria-label="Toggle Searchbar" aria-expanded="false" aria-keyshortcuts="S" aria-controls="searchbar">
                            <i class="fa fa-search"></i>
                        </button>
                        
                    </div>

                    <h1 class="menu-title">BPC-PRP</h1>

                    <div class="right-buttons">
                        <a href="../print.html" title="Print this book" aria-label="Print this book">
                            <i id="print-button" class="fa fa-print"></i>
                        </a>
                        
                    </div>
                </div>

                
                <div id="search-wrapper" class="hidden">
                    <form id="searchbar-outer" class="searchbar-outer">
                        <input type="search" name="search" id="searchbar" name="searchbar" placeholder="Search this book ..." aria-controls="searchresults-outer" aria-describedby="searchresults-header">
                    </form>
                    <div id="searchresults-outer" class="searchresults-outer hidden">
                        <div id="searchresults-header" class="searchresults-header"></div>
                        <ul id="searchresults">
                        </ul>
                    </div>
                </div>
                

                <!-- Apply ARIA attributes after the sidebar and the sidebar toggle button are added to the DOM -->
                <script type="text/javascript">
                    document.getElementById('sidebar-toggle').setAttribute('aria-expanded', sidebar === 'visible');
                    document.getElementById('sidebar').setAttribute('aria-hidden', sidebar !== 'visible');
                    Array.from(document.querySelectorAll('#sidebar a')).forEach(function(link) {
                        link.setAttribute('tabIndex', sidebar === 'visible' ? 0 : -1);
                    });
                </script>

                <div id="content" class="content">
                    <main>
                        <h1><a class="header" href="#snímání-čáry" id="snímání-čáry">Snímání čáry</a></h1>
<p>Cvičící: Ing. Tomáš Jílek, Ph.D.</p>
<h2><a class="header" href="#cíle" id="cíle">Cíle</a></h2>
<ul>
<li>Realizovat zpracování signálu z emulovaného optočlenu CNY70.</li>
<li>Implementovat výpočet pozice/orientace čáry vzhledem k ose jízdy robotu s využitím jednoho nebo více emulovaných optočlenů CNY70.</li>
</ul>
<h2><a class="header" href="#prerekvizity" id="prerekvizity">Prerekvizity</a></h2>
<ul>
<li>Funkční komunikace se simulátorem (ověřit pomocí zprávy <code>PING</code>).</li>
<li>Funkční parsování NMEA řetězců.</li>
<li>Funkční ovládání motorů.</li>
<li>Funkční vyčítání dat z emulovaného KM2 pro výpočet odometrie.</li>
<li>Znalost práce s daty v MATLABu/GNU Octave/Excelu nebo jiném SW pro analýzu dat.</li>
</ul>
<h2><a class="header" href="#výstupy" id="výstupy">Výstupy</a></h2>
<ul>
<li>Spolehlivě fungující měření pozice vodicí čáry vzhledem k ose jízdy robotu s jedním optočlenem CNY70.</li>
<li>Základní verze měřicího systému složeného z více optočlenů CNY70 (např. diferenční zapojení se 2 ks CNY70).</li>
</ul>
<h2><a class="header" href="#odevzdání-výsledku-řešení-cvičení-do-následujícího-cvičení" id="odevzdání-výsledku-řešení-cvičení-do-následujícího-cvičení">Odevzdání výsledku řešení cvičení (do následujícího cvičení)</a></h2>
<ul>
<li>Do složky <code>labs/lab-07/</code> v repozitáři Vašeho projektu uložte:
<ul>
<li>graf změřené statické převodní charakteristiky samotného senzoru bez jakéhokoliv zpracování,</li>
<li>graf statické převodní charakteristiky senzoru po Vašem zpracování,</li>
<li>textový soubor formátovaný v jazyce Markdown, který krátce popisuje Vámi zvolený způsob zpracování dat ze senzoru a odkazuje se na dva předchozí grafy (krátká technická zpráva, rozsah postačí ekv. 1/2 A4, mnohem důležitější je úroveň obsahu, než množství textu).</li>
</ul>
</li>
</ul>
<h2><a class="header" href="#Úkol-č-1-realizace-měření-převodní-charakteristiky-senzoru-cny70" id="Úkol-č-1-realizace-měření-převodní-charakteristiky-senzoru-cny70">Úkol č. 1: Realizace měření převodní charakteristiky senzoru CNY70</a></h2>
<p>Proveďte implementaci automatizovaného měření převodní charakteristiky emulovaného senzoru CNY70. Jedná se o závislost <code>u_raw=f(dD)</code> nebo <code>u_raw=f(dA)</code>, kde <code>u_raw</code> je celočíselná hodnota reprezentující měřené napětí, která je získána z AD převodníku s 12 bitovým registrem pro uložení výsledku AD převodu. Veličina <code>dD</code> odpovídá délkové odchylce senzoru od vodicí čáry. Veličina <code>dA</code> odpovídá úhlové odchylce senzoru od vodicí čáry.</p>
<p>Hodnotu, která je výsledkem A/D převodu, získáte pomocí NMEA zprávy <code>SENSOR</code>, která je ve formátu: <code>$SENSOR,&lt;id&gt;*&lt;chksum&gt;</code>, kde <code>id</code> odpovídá pořadovému číslu senzoru, který je součástí robotu. Senzory jsou indexované od nuly. Registr, ze kterého jsou data čteny, je 12bitový. Skutečné rozlišení použitého převodníku je ale pouze 10bitové, spodní 2 bity jsou tedy vždy nulové. Emulátor navrací zprávu <code>$SENSOR,&lt;id&gt;,&lt;value&gt;*&lt;chksum&gt;</code>, kde <code>value</code> je celočíselná hodnota, která je výsledkem A/D převodu.</p>
<h3><a class="header" href="#možný-způsob-řešení-nápověda" id="možný-způsob-řešení-nápověda">Možný způsob řešení (nápověda)</a></h3>
<p>Charakteristiku <code>u_raw=f(dD)</code> můžete získat např. tak, že robotem nakolmo přejedete čáru a uložíte si změřené hodnoty <code>u_raw</code>, <code>dGamma1</code> a <code>dGamma2</code>. <code>dGamma1</code> a <code>dGamma2</code> jsou počty mikrokroků ujeté každým kolem během příslušné periody vzorkování. Charakteristiku <code>u_raw=f(dA)</code> můžete získat obdobným způsobem, t.j. robot stojí na místě a otáčí se kolem své osy.</p>
<h2><a class="header" href="#Úkol-č-2-návrh-detekčního-systému-s-jedním-optočlenem-cny70-pro-měření-pozice-čáry-vzhledem-k-ose-jízdy-robotu" id="Úkol-č-2-návrh-detekčního-systému-s-jedním-optočlenem-cny70-pro-měření-pozice-čáry-vzhledem-k-ose-jízdy-robotu">Úkol č. 2: Návrh detekčního systému s jedním optočlenem CNY70 pro měření pozice čáry vzhledem k ose jízdy robotu</a></h2>
<p>Navrhněte vlastní systém pro měření pozice čáry s využitím optočlenu CNY70. Pro snažší pochopení chování optočlenu v uvedené aplikaci Vám může pomoci proměření vlivu vzdálenosti odrazné roviny na převodní charakteristiku. Umístěte senzor na robot tak, aby bylo možné snímat vychýlení optočlenu od osy vodící čary v co největším rozsahu a současně spolehlivě! Výstupní hodnotu algoritmu pro zpracování měřených dat kalibrujte ve vhodných fyzikálních jednotkách (metry / milimetry / atd.).</p>
<h2><a class="header" href="#Úkol-č-3-návrh-detekčního-systému-s-více-optočleny-cny70-pro-měření-poziceorientace-čáry-vzhledem-k-ose-jízdy-robotu" id="Úkol-č-3-návrh-detekčního-systému-s-více-optočleny-cny70-pro-měření-poziceorientace-čáry-vzhledem-k-ose-jízdy-robotu">Úkol č. 3: Návrh detekčního systému s více optočleny CNY70 pro měření pozice/orientace čáry vzhledem k ose jízdy robotu</a></h2>
<p>Pro zvýšení měřicího rozsahu a robustnosti měření je možné použít více optočlenů CNY70, které budou vhodně prostorově rozmístěny. Nejprve je doporučeno vyzkoušet diferenční zapojení dvou optočlenů a až potom se pouštět do sofistikovanějších zapojení s více optočleny.</p>
<p>Při návrhu měřicího systému vhodného pro detekci pozice/orientace vodicí čáry je doporučeno zvážit minimálně tyto parametry/vlastnosti:</p>
<ul>
<li>minimální počet potřebných optočlenů CNY70,</li>
<li>prostorové rozmístění optočlenů CNY70 (jejich souřadnice <code>x</code>, <code>y</code>, <code>z</code> v souřadnicovém systému robotu),</li>
<li>linearizace převodní charakteristiky jednotlivých optočlenů/celého detekčního systému,</li>
<li>kalibrace jednotlivých optočlenů (statická - po zapnutí / dynamická - po celou dobu jízdy),</li>
<li>způsob vyhodnocení dat ze senzoru - charakter výstupní veličiny (počet diskrétních stavů - 2 a nebo více).</li>
</ul>
<h2><a class="header" href="#nápověda-č-1-zápis-naměřených-dat-do-souboru" id="nápověda-č-1-zápis-naměřených-dat-do-souboru">Nápověda č. 1: Zápis naměřených dat do souboru</a></h2>
<p>Naměřená data je doporučeno prozatím logovat do souborů. Kdo zvládne logovat přes síť, může použít i tento způsob. Real-time sběr telemetrie bude náplní jednoho z dalších cvičení.</p>
<p>Pro snadnou, rychlou a bezproblémovou práci je doporučeno ukládat měřená data do snáze čitelného formátu souboru, který bude používán v aplikaci, kterou budete naměřená data analyzovat. Doporučen je primárně <code>MATLAB</code> nebo <code>GNU Octave</code>. Kdo s tím má problém, je to jeho problém. Příznivci jazyka Python mohou použít např. prostředí <code>Spyder</code> a v něm balíček <code>NumPy</code>. V nouzi postačí i tabulkový procesor (<code>MS Office Excel</code>, <code>LibreOffice Calc</code>, atd.).</p>
<h3><a class="header" href="#formát-csv-comma-separated-values-souboru" id="formát-csv-comma-separated-values-souboru">Formát CSV (Comma-separated values) souboru</a></h3>
<p>Čísla jsou v textovém vyjádření, desetinným oddělovačem je tečka, odělovačem hodnot v řádku je čárka, oddělovačem nových řádků v tabulce je konec řádku <code>&lt;CR&gt;&lt;LF&gt;</code> pro platformu Windows, pro Linux je to jen <code>&lt;LF&gt;</code>.</p>
<h3><a class="header" href="#zápis-dat-do-souboru-v-jazyce-c" id="zápis-dat-do-souboru-v-jazyce-c">Zápis dat do souboru v jazyce C</a></h3>
<pre><code>#include &lt;stdio.h&gt;
FILE *fopen(const char *pathname, const char *mode);
int fprintf(FILE *stream, const char *format, ...);
int fflush(FILE *stream);
int fclose(FILE *stream);
</code></pre>
<h2><a class="header" href="#nápověda-č-2-přístup-k-souborům-a-jejich-přenos-mimo-os-linux" id="nápověda-č-2-přístup-k-souborům-a-jejich-přenos-mimo-os-linux">Nápověda č. 2: Přístup k souborům a jejich přenos mimo OS Linux</a></h2>
<p>Naměřená data, která jste si uložili v OS Linux budete chtít nejspíše analyzovat mimo tento systém. Uložené soubory tedy budete v tomto případě potřebovat přenést na jiné zařízení nebo např. z hostovaného OS (Ubuntu), který vám běží ve VM do hostujícího OS (např. Windows), na kterém běžně pracujete. Existuje několik způsobů jak toto realizovat:</p>
<ul>
<li>zpřístupnit lokální složku v OS Linux prostřednictvím protokolu SMB (externí přístup z platforem Windows, Linux i Mac k souborům na Ubuntu přes sdílenou síťovou složku),</li>
<li>přenést soubory přes síť s využitím protokolu SFTP (dostupné aplikace: <code>WinSCP</code>, <code>FileZilla</code>, <code>psftp</code>, <code>Total Commander</code> + <code>SFTP plugin</code>, atd.),</li>
<li>soubory přenést na externí úložiště připojené v Ubuntu přes rozhraní USB (flash disk, HDD/SSD) nebo síť (NAS, atd.).</li>
</ul>
<h2><a class="header" href="#nápověda-č-3-zobrazení-naměřených-dat-v-matlabu--gnu-octave" id="nápověda-č-3-zobrazení-naměřených-dat-v-matlabu--gnu-octave">Nápověda č. 3: Zobrazení naměřených dat v MATLABu / GNU Octave</a></h2>
<h3><a class="header" href="#načtení-souboru-ve-formátu-csv-s-naměřenými-daty" id="načtení-souboru-ve-formátu-csv-s-naměřenými-daty">Načtení souboru ve formátu CSV s naměřenými daty</a></h3>
<pre><code>M = csvread(filename)
</code></pre>
<h3><a class="header" href="#vykreslení-grafu" id="vykreslení-grafu">Vykreslení grafu</a></h3>
<pre><code>figure(f)
clf
plot(X, Y, LineSpec)
plot(X, Y, LineSpec, 'LineWidth', width, 'MarkerSize', size)
xlabel(txt)
ylabel(txt)
title(txt)
legend(label1,...,labelN)
</code></pre>
<h2><a class="header" href="#nápověda-č-4-textový-bargraf-v-konzoli" id="nápověda-č-4-textový-bargraf-v-konzoli">Nápověda č. 4: Textový bargraf v konzoli</a></h2>
<pre><code>// funkce na vytvoreni jedne hodnoty grafu do konzole
// buffer ... predalokovany pracovni buffer do ktereho se bude zapisovat text
// nchars ... pocet znaku v bufferu
// val ... hodnota (0...1) k vytisteni
// navratovou hodnotu lze rovnou pouzit jako parametr do printf (&quot;%s&quot;, s)
const char *graf(char* buffer, int nchars, float value)
{
  int end = (int)(value * nchars) - 3; // start pipe, end pipe a koncova nula

  buffer[0] = '|';
  int i=1;

  while (i &lt; end)
    buffer[i++] = '=';

  buffer[i++] = '|';

  while (i &lt; nchars)
    buffer[i++] = ' ';

  buffer[nchars-1] = 0;
  return buffer;
}

printf(&quot;%d %%: %s&quot;, value, graf(buffer, 20, value));
</code></pre>

                    </main>

                    <nav class="nav-wrapper" aria-label="Page navigation">
                        <!-- Mobile navigation buttons -->
                        
                            <a rel="prev" href="../cviceni/cviceni_06_motory.html" class="mobile-nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                                <i class="fa fa-angle-left"></i>
                            </a>
                        

                        
                            <a rel="next" href="../cviceni/cviceni_08_regulator.html" class="mobile-nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                                <i class="fa fa-angle-right"></i>
                            </a>
                        

                        <div style="clear: both"></div>
                    </nav>
                </div>
            </div>

            <nav class="nav-wide-wrapper" aria-label="Page navigation">
                
                    <a rel="prev" href="../cviceni/cviceni_06_motory.html" class="nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                        <i class="fa fa-angle-left"></i>
                    </a>
                

                
                    <a rel="next" href="../cviceni/cviceni_08_regulator.html" class="nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                        <i class="fa fa-angle-right"></i>
                    </a>
                
            </nav>

        </div>

        

        

        

        
        <script type="text/javascript">
            window.playground_copyable = true;
        </script>
        

        

        
        <script src="../elasticlunr.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="../mark.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="../searcher.js" type="text/javascript" charset="utf-8"></script>
        

        <script src="../clipboard.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="../highlight.js" type="text/javascript" charset="utf-8"></script>
        <script src="../book.js" type="text/javascript" charset="utf-8"></script>

        <!-- Custom JS scripts -->
        

        

    </body>
</html>
